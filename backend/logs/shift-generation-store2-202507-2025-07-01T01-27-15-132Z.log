{
  "timestamp": "2025-07-01T01:27:15.132Z",
  "storeId": 2,
  "year": 2025,
  "month": 7,
  "type": "SHIFT_GENERATION",
  "phase": "AI_PROMPT_GENERATION",
  "promptLength": 1301,
  "prompt": "あなたはシフト管理システムです。以下の条件を厳守してシフトを生成してください。\n    \n    ## 期間情報\n    - 対象期間: 2025-06-26 ～ 2025-07-25\n    \n    ## スタッフ制約（絶対遵守）\n    \n    【花子 山田 (ID: 2)】\n    - 月間勤務時間: このスタッフの月間合計勤務時間は、必ず 40 時間から 80 時間の範囲に収めてください。この範囲から逸脱してはいけません。\n    - 1日最大勤務時間: 6時間\n    - 勤務不可曜日: 日\n    - 休み希望: なし\n    【次郎 鈴木 (ID: 4)】\n    - 月間勤務時間: このスタッフの月間合計勤務時間は、必ず 140 時間から 160 時間の範囲に収めてください。この範囲から逸脱してはいけません。\n    - 1日最大勤務時間: 8時間\n    - 勤務不可曜日: 土,日\n    - 休み希望: なし\n    【美咲 高橋 (ID: 5)】\n    - 月間勤務時間: このスタッフの月間合計勤務時間は、必ず 60 時間から 100 時間の範囲に収めてください。この範囲から逸脱してはいけません。\n    - 1日最大勤務時間: 7時間\n    - 勤務不可曜日: 火,水\n    - 休み希望: なし\n    \n    ## 重要ルール\n    1. 各スタッフの月間合計勤務時間は、指定された「月間勤務時間」の範囲内に必ず収めること。これが最も重要なルールです。\n    2. スタッフをシフトに割り当てる際は、可能な限りそのスタッフの「1日最大勤務時間」に近い時間で割り当てること。\n    3. 各日付の人員要件（もしあれば）を満たすことを優先する。\n    4. 勤務不可曜日と休み希望日には絶対に割り当てない。\n    5. 1日の勤務時間は絶対に「1日最大勤務時間」を超えない。\n    6. 他店舗で既に勤務がある日時には絶対に割り当てない（同じ時間帯に複数店舗で勤務することはできない）。\n    \n    ## 出力形式\n    以下のJSON形式で正確に出力してください。余計な説明は不要です。\n    重要: 全てのオブジェクトは必ず `{` と `}` で囲んでください。配列内の各要素がオブジェクトである場合、それぞれを `{` と `}` で囲む必要があります。\n    \n    ```json\n    {\n      \"shifts\": [\n        {\n          \"date\": \"YYYY-MM-DD\",\n          \"assignments\": [\n            {\n              \"staff_id\": 1,\n              \"start_time\": \"09:00\", \n              \"end_time\": \"17:00\"\n            }\n          ]\n        }\n      ]\n    }\n    ```"
}

